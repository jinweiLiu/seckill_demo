### 秒杀系统学习和实现

- 初步搭建 \
  商品和订单

- 无锁实现方案 \
  不加锁情况会导致超卖现象，所有请求都生成了订单

- 加锁是实现（悲观锁和乐观锁） 
  - 乐观锁实现   
    在更新数据库前先检查version和之前的是否一致 \
    jmeter利用100个请求测试，不会出现超卖现象，卖出数量和总数比为 21/50
  - 悲观锁(for update) \
    (1) for update是在数据库中上锁用的，可以为数据库中的行上一个排它锁。当一个事务的操作未完成时候，其他事务可以读取但是不能写入或更新。 \
    (2) @Transactional，将数据库操作变成一个事务，回滚时会抛出异常 \
    jmeter利用100个请求测试，不会出现超卖现象，请求排队进行处理，前50个请求生成订单，后50个请求没有生成订单